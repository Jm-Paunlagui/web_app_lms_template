/** @license
 * eventsource.js
 * Available under MIT License (MIT)
 * https://github.com/Yaffle/EventSource/
 */
!function(e){"use strict";var o,H=e.setTimeout,N=e.clearTimeout,j=e.XMLHttpRequest,r=e.XDomainRequest,t=e.ActiveXObject,n=e.EventSource,i=e.document,d=e.Promise,h=e.fetch,a=e.Response,p=e.TextDecoder,s=e.TextEncoder,f=e.AbortController;function c(){this.bitsNeeded=0,this.codePoint=0}"undefined"==typeof window||"readyState"in i||null!=i.body||(i.readyState="loading",window.addEventListener("load",function(e){i.readyState="complete"},!1)),null==j&&null!=t&&(j=function(){return new t("Microsoft.XMLHTTP")}),null==Object.create&&(Object.create=function(e){function t(){}return t.prototype=e,new t}),Date.now||(Date.now=function(){return(new Date).getTime()}),null==f&&(o=h,h=function(e,t){var n=t.signal;return o(e,{headers:t.headers,credentials:t.credentials,cache:t.cache}).then(function(e){var t=e.body.getReader();return n._reader=t,n._aborted&&n._reader.cancel(),{status:e.status,statusText:e.statusText,headers:e.headers,body:{getReader:function(){return t}}}})},f=function(){this.signal={_reader:null,_aborted:!1},this.abort=function(){null!=this.signal._reader&&this.signal._reader.cancel(),this.signal._aborted=!0}}),c.prototype.decode=function(e){function t(e,t,n){if(1===n)return 128>>t<=e&&e<<t<=2047;if(2===n)return 2048>>t<=e&&e<<t<=55295||57344>>t<=e&&e<<t<=65535;if(3===n)return 65536>>t<=e&&e<<t<=1114111;throw new Error}function n(e,t){if(6===e)return 15<t>>6?3:31<t?2:1;if(12===e)return 15<t?3:2;if(18===e)return 3;throw new Error}for(var o="",r=this.bitsNeeded,i=this.codePoint,a=0;a<e.length;a+=1){var s=e[a];0!==r&&(s<128||191<s||!t(i<<6|63&s,r-6,n(r,i)))&&(r=0,i=65533,o+=String.fromCharCode(i)),0===r?(i=0<=s&&s<=127?(r=0,s):192<=s&&s<=223?(r=6,31&s):224<=s&&s<=239?(r=12,15&s):240<=s&&s<=247?(r=18,7&s):(r=0,65533),0===r||t(i,r,n(r,i))||(r=0,i=65533)):(r-=6,i=i<<6|63&s),0===r&&(i<=65535?o+=String.fromCharCode(i):(o+=String.fromCharCode(55296+(i-65535-1>>10)),o+=String.fromCharCode(56320+(i-65535-1&1023))))}return this.bitsNeeded=r,this.codePoint=i,o},null!=p&&null!=s&&function(){try{return"test"===(new p).decode((new s).encode("test"),{stream:!0})}catch(e){console.debug("TextDecoder does not support streaming option. Using polyfill instead: "+e)}return!1}()||(p=c);var l=function(){};function I(e){this.withCredentials=!1,this.readyState=0,this.status=0,this.statusText="",this.responseText="",this.onprogress=l,this.onload=l,this.onerror=l,this.onreadystatechange=l,this._contentType="",this._xhr=e,this._sendTimeout=0,this._abort=l}function u(e){return e.replace(/[A-Z]/g,function(e){return String.fromCharCode(e.charCodeAt(0)+32)})}function y(e){for(var t=Object.create(null),n=e.split("\r\n"),o=0;o<n.length;o+=1){var r=n[o].split(": "),i=r.shift(),r=r.join(": ");t[u(i)]=r}this._map=t}function P(){}function v(e){this._headers=e}function L(){}function g(){this._listeners=Object.create(null)}function w(e){H(function(){throw e},0)}function b(e){this.type=e,this.target=void 0}function M(e,t){b.call(this,e),this.data=t.data,this.lastEventId=t.lastEventId}function q(e,t){b.call(this,e),this.status=t.status,this.statusText=t.statusText,this.headers=t.headers}function X(e,t){b.call(this,e),this.error=t.error}I.prototype.open=function(e,t){this._abort(!0);var r=this,i=this._xhr,a=1,n=0;this._abort=function(e){0!==r._sendTimeout&&(N(r._sendTimeout),r._sendTimeout=0),1!==a&&2!==a&&3!==a||(a=4,i.onload=l,i.onerror=l,i.onabort=l,i.onprogress=l,i.onreadystatechange=l,i.abort(),0!==n&&(N(n),n=0),e||(r.readyState=4,r.onabort(null),r.onreadystatechange())),a=0};function o(){if(1===a){var t=0,n="",o=void 0;if("contentType"in i)t=200,n="OK",o=i.contentType;else try{t=i.status,n=i.statusText,o=i.getResponseHeader("Content-Type")}catch(e){n="",o=void(t=0)}0!==t&&(a=2,r.readyState=2,r.status=t,r.statusText=n,r._contentType=o,r.onreadystatechange())}}function s(){if(o(),2===a||3===a){a=3;var e="";try{e=i.responseText}catch(e){}r.readyState=3,r.responseText=e,r.onprogress()}}function c(e,t){if(null!=t&&null!=t.preventDefault||(t={preventDefault:l}),s(),1===a||2===a||3===a){if(a=4,0!==n&&(N(n),n=0),r.readyState=4,"load"===e)r.onload(t);else if("error"===e)r.onerror(t);else{if("abort"!==e)throw new TypeError;r.onabort(t)}r.onreadystatechange()}}var u=function(){n=H(function(){u()},500),3===i.readyState&&s()};"onload"in i&&(i.onload=function(e){c("load",e)}),"onerror"in i&&(i.onerror=function(e){c("error",e)}),"onabort"in i&&(i.onabort=function(e){c("abort",e)}),"onprogress"in i&&(i.onprogress=s),"onreadystatechange"in i&&(i.onreadystatechange=function(e){e=e,null!=i&&(4===i.readyState?"onload"in i&&"onerror"in i&&"onabort"in i||c(""===i.responseText?"error":"load",e):3===i.readyState?"onprogress"in i||s():2===i.readyState&&o())}),!("contentType"in i)&&"ontimeout"in j.prototype||(t+=(-1===t.indexOf("?")?"?":"&")+"padding=true"),i.open(e,t,!0),"readyState"in i&&(n=H(function(){u()},0))},I.prototype.abort=function(){this._abort(!1)},I.prototype.getResponseHeader=function(e){return this._contentType},I.prototype.setRequestHeader=function(e,t){var n=this._xhr;"setRequestHeader"in n&&n.setRequestHeader(e,t)},I.prototype.getAllResponseHeaders=function(){return null!=this._xhr.getAllResponseHeaders&&this._xhr.getAllResponseHeaders()||""},I.prototype.send=function(){if("ontimeout"in j.prototype&&("sendAsBinary"in j.prototype||"mozAnon"in j.prototype)||null==i||null==i.readyState||"complete"===i.readyState){var e=this._xhr;"withCredentials"in e&&(e.withCredentials=this.withCredentials);try{e.send(void 0)}catch(e){throw e}}else{var t=this;t._sendTimeout=H(function(){t._sendTimeout=0,t.send()},4)}},y.prototype.get=function(e){return this._map[u(e)]},null!=j&&null==j.HEADERS_RECEIVED&&(j.HEADERS_RECEIVED=2),P.prototype.open=function(r,i,t,n,e,o,a){r.open("GET",e);var s,c=0;for(s in r.onprogress=function(){var e=r.responseText.slice(c);c+=e.length,t(e)},r.onerror=function(e){e.preventDefault(),n(new Error("NetworkError"))},r.onload=function(){n(null)},r.onabort=function(){n(null)},r.onreadystatechange=function(){var e,t,n,o;r.readyState===j.HEADERS_RECEIVED&&(e=r.status,t=r.statusText,n=r.getResponseHeader("Content-Type"),o=r.getAllResponseHeaders(),i(e,t,n,new y(o)))},r.withCredentials=o,a)Object.prototype.hasOwnProperty.call(a,s)&&r.setRequestHeader(s,a[s]);return r.send(),r},v.prototype.get=function(e){return this._headers.get(e)},L.prototype.open=function(e,t,r,n,o,i,a){var s=null,c=new f,u=c.signal,l=new p;return h(o,{headers:a,credentials:i?"include":"same-origin",signal:u,cache:"no-store"}).then(function(e){return s=e.body.getReader(),t(e.status,e.statusText,e.headers.get("Content-Type"),new v(e.headers)),new d(function(t,n){var o=function(){s.read().then(function(e){e.done?t(void 0):(e=l.decode(e.value,{stream:!0}),r(e),o())}).catch(function(e){n(e)})};o()})}).catch(function(e){if("AbortError"!==e.name)return e}).then(function(e){n(e)}),{abort:function(){null!=s&&s.cancel(),c.abort()}}},g.prototype.dispatchEvent=function(e){var t=(e.target=this)._listeners[e.type];if(null!=t)for(var n=t.length,o=0;o<n;o+=1){var r=t[o];try{"function"==typeof r.handleEvent?r.handleEvent(e):r.call(this,e)}catch(e){w(e)}}},g.prototype.addEventListener=function(e,t){e=String(e);var n=this._listeners,o=n[e];null==o&&(o=[],n[e]=o);for(var r=!1,i=0;i<o.length;i+=1)o[i]===t&&(r=!0);r||o.push(t)},g.prototype.removeEventListener=function(e,t){e=String(e);var n=this._listeners,o=n[e];if(null!=o){for(var r=[],i=0;i<o.length;i+=1)o[i]!==t&&r.push(o[i]);0===r.length?delete n[e]:n[e]=r}},M.prototype=Object.create(b.prototype),q.prototype=Object.create(b.prototype),X.prototype=Object.create(b.prototype);var G=-1,V=0,B=1,U=2,k=-1,z=0,K=1,Z=2,$=3,F=/^text\/event\-stream(;.*)?$/i,J=function(e,t){e=null==e?t:parseInt(e,10);return e!=e&&(e=t),Q(e)},Q=function(e){return Math.min(Math.max(e,1e3),18e6)},W=function(e,t,n){try{"function"==typeof t&&t.call(e,n)}catch(e){w(e)}};function E(e,t){g.call(this),t=t||{},this.onopen=void 0,this.onmessage=void 0,this.onerror=void 0,this.url=void 0,this.readyState=void 0,this.withCredentials=void 0,this.headers=void 0,this._close=void 0,function(c,a,e){function s(e,t,n,o){var r,i;C===V&&(200===e&&null!=n&&F.test(n)?(C=B,y=Date.now(),f=d,c.readyState=B,i=new q("open",{status:e,statusText:t,headers:o}),c.dispatchEvent(i),W(c,c.onopen,i)):(r="",r=200!==e?"EventSource's response has a status "+e+" "+(t=t&&t.replace(/\s+/g," "))+" that is not 200. Aborting the connection.":"EventSource's response has a Content-Type specifying an unsupported type: "+(null==n?"-":n.replace(/\s+/g," "))+". Aborting the connection.",O(),i=new q("error",{status:e,statusText:t,headers:o}),c.dispatchEvent(i),W(c,c.onerror,i),console.error(r)))}function u(e){if(C===B){for(var t=-1,n=0;n<e.length;n+=1)(a=e.charCodeAt(n))!=="\n".charCodeAt(0)&&a!=="\r".charCodeAt(0)||(t=n);var o=(-1!==t?S:"")+e.slice(0,t+1);S=(-1===t?S:"")+e.slice(t+1),""!==e&&(y=Date.now(),v+=e.length);for(var r=0;r<o.length;r+=1){var i,a=o.charCodeAt(r);if(x===k&&a==="\n".charCodeAt(0))x=z;else if(x===k&&(x=z),a==="\r".charCodeAt(0)||a==="\n".charCodeAt(0)){if(x!==z&&(x===K&&(R=r+1),i=o.slice(A,R-1),s=o.slice(R+(R<r&&o.charCodeAt(R)===" ".charCodeAt(0)?1:0),r),"data"===i?(T+="\n",T+=s):"id"===i?m=s:"event"===i?_=s:"retry"===i?(d=J(s,d),f=d):"heartbeatTimeout"===i&&(h=J(s,h),0!==E&&(N(E),E=H(function(){D()},h)))),x===z){if(""!==T){p=m,""===_&&(_="message");var s=new M(_,{data:T.slice(1),lastEventId:m});if(c.dispatchEvent(s),"open"===_?W(c,c.onopen,s):"message"===_?W(c,c.onmessage,s):"error"===_&&W(c,c.onerror,s),C===U)return}_=T=""}x=a==="\r".charCodeAt(0)?k:z}else x===z&&(A=r,x=K),x===K?a===":".charCodeAt(0)&&(R=r+1,x=Z):x===Z&&(x=$)}}}function l(e){var t;C!==B&&C!==V||(C=G,0!==E&&(N(E),E=0),E=H(function(){D()},f),f=Q(Math.min(16*d,2*f)),c.readyState=V,t=new X("error",{error:e}),c.dispatchEvent(t),W(c,c.onerror,t),console.error(e))}a=String(a);var t=Boolean(e.withCredentials),d=Q(1e3),h=J(e.heartbeatTimeout,45e3),p="",f=d,y=!1,v=0,n=e.headers||{},e=e.Transport,g=Y&&null==e?void 0:new I(new(null!=e?e:null!=j&&"withCredentials"in j.prototype||null==r?j:r)),w=new(null!=e&&"string"!=typeof e?e:null==g?L:P),b=void 0,E=0,C=G,T="",m="",_="",S="",x=z,A=0,R=0,O=function(){C=U,null!=b&&(b.abort(),b=void 0),0!==E&&(N(E),E=0),c.readyState=U},D=function(){if(E=0,C===G){y=!1,v=0,E=H(function(){D()},h),C=V,m=p,S=_=T="",R=A=0,x=z;var e=a;"data:"!==a.slice(0,5)&&"blob:"!==a.slice(0,5)&&""!==p&&(e+=(-1===a.indexOf("?")?"?":"&")+"lastEventId="+encodeURIComponent(p));var t=c.withCredentials,n={Accept:"text/event-stream"},o=c.headers;if(null!=o)for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(n[r]=o[r]);try{b=w.open(g,s,u,l,e,t,n)}catch(e){throw O(),e}}else{var i;y||null==b?(i=Math.max((y||Date.now())+h-Date.now(),1),y=!1,E=H(function(){D()},i)):(l(new Error("No activity within "+h+" milliseconds. "+(C===V?"No response received.":v+" chars received.")+" Reconnecting.")),null!=b&&(b.abort(),b=void 0))}};c.url=a,c.readyState=V,c.withCredentials=t,c.headers=n,c._close=O,D()}(this,e,t)}var Y=null!=h&&null!=a&&"body"in a.prototype;(E.prototype=Object.create(g.prototype)).CONNECTING=V,E.prototype.OPEN=B,E.prototype.CLOSED=U,E.prototype.close=function(){this._close()},E.CONNECTING=V,E.OPEN=B,E.CLOSED=U,E.prototype.withCredentials=void 0;var C=n;null==j||null!=n&&"withCredentials"in n.prototype||(C=E),a=function(e){e.EventSourcePolyfill=E,e.NativeEventSource=n,e.EventSource=C},"object"==typeof module&&"object"==typeof module.exports?a(exports):"function"==typeof define&&define.amd?define(["exports"],a):a(e)}("undefined"==typeof globalThis?"undefined"!=typeof window?window:"undefined"!=typeof self?self:this:globalThis);
/**
 * @module promise-polyfill
 * @author Taylor Hakes
 * @license MIT
 * @version 8.2.0
 * @description Lightweight ES6 Promise polyfill for the browser and node.
 * @see https://github.com/taylorhakes/promise-polyfill
 */

!function(e){"object"==typeof exports&&"undefined"!=typeof module||"function"!=typeof define||!define.amd?e():define(e)}(function(){"use strict";function e(n){var t=this.constructor;return this.then(function(e){return t.resolve(n()).then(function(){return e})},function(e){return t.resolve(n()).then(function(){return t.reject(e)})})}var n=setTimeout;function c(e){return e&&void 0!==e.length}function o(){}function i(e){if(!(this instanceof i))throw new TypeError("Promises must be constructed via new");if("function"!=typeof e)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],s(e,this)}function r(t,o){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,i._immediateFn(function(){var e,n=1===t._state?o.onFulfilled:o.onRejected;if(null!==n){try{e=n(t._value)}catch(e){return void u(o.promise,e)}f(o.promise,e)}else(1===t._state?f:u)(o.promise,t._value)})):t._deferreds.push(o)}function f(n,e){try{if(e===n)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var t=e.then;if(e instanceof i)return n._state=3,n._value=e,void a(n);if("function"==typeof t)return void s((o=t,r=e,function(){o.apply(r,arguments)}),n)}n._state=1,n._value=e,a(n)}catch(e){u(n,e)}var o,r}function u(e,n){e._state=2,e._value=n,a(e)}function a(e){2===e._state&&0===e._deferreds.length&&i._immediateFn(function(){e._handled||i._unhandledRejectionFn(e._value)});for(var n=0,t=e._deferreds.length;n<t;n++)r(e,e._deferreds[n]);e._deferreds=null}function l(e,n,t){this.onFulfilled="function"==typeof e?e:null,this.onRejected="function"==typeof n?n:null,this.promise=t}function s(e,n){var t=!1;try{e(function(e){t||(t=!0,f(n,e))},function(e){t||(t=!0,u(n,e))})}catch(e){if(t)return;t=!0,u(n,e)}}i.prototype.catch=function(e){return this.then(null,e)},i.prototype.then=function(e,n){var t=new this.constructor(o);return r(this,new l(e,n,t)),t},i.prototype.finally=e,i.all=function(n){return new i(function(r,i){if(!c(n))return i(new TypeError("Promise.all accepts an array"));var f=Array.prototype.slice.call(n);if(0===f.length)return r([]);var u=f.length;for(var e=0;e<f.length;e++)!function n(t,e){try{if(e&&("object"==typeof e||"function"==typeof e)){var o=e.then;if("function"==typeof o)return o.call(e,function(e){n(t,e)},i),0}f[t]=e,0==--u&&r(f)}catch(e){i(e)}}(e,f[e])})},i.resolve=function(n){return n&&"object"==typeof n&&n.constructor===i?n:new i(function(e){e(n)})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(r){return new i(function(e,n){if(!c(r))return n(new TypeError("Promise.race accepts an array"));for(var t=0,o=r.length;t<o;t++)i.resolve(r[t]).then(e,n)})},i._immediateFn="function"==typeof setImmediate?function(e){setImmediate(e)}:function(e){n(e,0)},i._unhandledRejectionFn=function(e){void 0!==console&&console&&console.warn("Possible Unhandled Promise Rejection:",e)};var t=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();"function"!=typeof t.Promise?t.Promise=i:t.Promise.prototype.finally||(t.Promise.prototype.finally=e)});
/**
 * @module fetch
 * @author nuintun
 * @license MIT
 * @version 1.1.2
 * @description A pure JavaScript window.fetch polyfill.
 * @see https://github.com/nuintun/fetch#readme
 */
!function(){"use strict";var r,o,n,p,i,l,t,s,a,u,h,y,w,c,d,f,b,m;function e(e){return"function"==typeof e&&t.test(e)}function g(e){return null==e?String(e):s.call(e).replace(/\[object (\w+)\]/,"$1").toLowerCase()}function v(){}function T(e,t){e=e.prototype;u?u(t.prototype,e):a?t.prototype=a(e):(v.prototype=e,t.prototype=new v),t.prototype.constructor=t}function E(e,t,r,o){if(o<r)throw new TypeError("Failed to execute '"+t+"' on '"+e+"': "+r+" arguments required, but only "+o+" present")}function x(e){if(!(e=String(e))||/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid header name");return e.toLowerCase()}function R(e){return String(e)}function P(t){var r=0,o=t.length,e={next:function(){var e=o<=r;return{done:e,value:e?void 0:t[r++]}}};return i&&(e[Symbol.iterator]=function(){return e}),e}function A(e){if(this["<names>"]={},this["<headers>"]={},void 0===e)return this;if(e instanceof A)e.forEach(function(e,t){this.append(t,e)},this);else if(Array.isArray(e))e.forEach(function(e){if(e.length<2)throw new TypeError("Invalid header value");var t=e[0],e=e[1];this.append(t,e)},this);else{if("object"!==g(e))throw new TypeError("The headers provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)");for(var t in e)e.hasOwnProperty(t)&&this.append(t,e[t])}}function U(e){if(e.bodyUsed)throw new TypeError("Already read");e.bodyUsed=!0}function O(r){return new Promise(function(e,t){r.onload=function(){e(r.result)},r.onerror=function(){t(r.error)}})}function B(e){var t=new FileReader,r=O(t);return t.readAsArrayBuffer(e),r}function S(e){if(e.slice)return e.slice(0);var t=new Uint8Array(e.byteLength);return t.set(new Uint8Array(e)),t.buffer}function j(e){var r=new FormData;return e.trim().split("&").forEach(function(e){var t;e&&(e=(t=e.split("=")).shift().replace(/\+/g," "),t=t.join("=").replace(/\+/g," "),r.append(decodeURIComponent(e),decodeURIComponent(t)))}),r}function q(){this.bodyUsed=!1}function C(e,t){var r=arguments.length;if(r<1)throw new TypeError("Request construct need 1 argument required, but only "+r+" present");q.call(this);var o=(t=t||{}).body;if(e instanceof C){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.mode=e.mode,this.method=e.method,this.credentials=e.credentials,this.redirect=e.redirect,this.referrer=e.referrer,this.referrerPolicy=e.referrerPolicy,t.headers||(this.headers=new A(e.headers)),o||null===e.body||(o=e.body,e.bodyUsed=!0)}else{var r=String(e);if(h.test(r))throw new TypeError("Request cannot be constructed from a URL that includes credentials: "+r);if(this.url=(y.href=r,y.host||(y.host=location.host),y.href),this.mode=function(e){switch(e){case"no-cors":case"navigate":case"same-origin":return e;default:return"cors"}}(t.mode),this.method=t.hasOwnProperty("method")?(e=t.method,r=(e=String(e)).toUpperCase(),-1<b.indexOf(r)?r:e):"GET",("GET"===this.method||"HEAD"===this.method)&&o)throw new TypeError("Request with GET/HEAD method cannot have body");this.credentials=t.credentials||"omit",this.redirect=t.redirect||"follow",this.referrer=t.referrer||"about:client",this.referrerPolicy=t.referrerPolicy||"",this.headers=new A(t.headers||{})}this["<body>"](o)}function F(e,t){q.call(this);var r=(t=t||{}).hasOwnProperty("status")?t.status>>0:200;if(1223===r&&(r=204),r<200||599<r)throw new TypeError("The response status provided ("+r+") is outside the range [200, 599]");this.status=r,this.ok=200<=r&&r<300,this.headers=new A(t.headers),this.statusText=t.statusText||(200===r?"OK":""),this["<body>"](e)}"function"!=typeof window.fetch&&(r="FormData"in window,o="ArrayBuffer"in window,n="URLSearchParams"in window,p="FileReader"in window&&"Blob"in window,i="Symbol"in window&&"iterator"in Symbol,l="XDomainRequest"in window&&document.documentMode>>>0<10,t=(t=(t=Function.prototype.toString.call(Function)).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&")).replace(/Function|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?"),t=new RegExp("^"+t+"$"),s=Object.prototype.toString,a=!!e(Object.create)&&Object.create,u=!!e(Object.setPrototypeOf)&&Object.setPrototypeOf,h=/^([a-z0-9.+-]+:)?\/\/([^\/:]*)(?::([^\/]*))?@/i,y=document.createElement("a"),w=location.port||{"http:":"80","https:":"443"}[location.protocol],A.prototype.append=function(e,t){E("Headers","append",2,arguments.length);var r=x(e);this["<names>"][r]=e;e=this["<headers>"][r];t=R(t),this["<headers>"][r]=e?e+","+t:t},A.prototype.delete=function(e){E("Headers","delete",1,arguments.length),e=x(e),delete this["<headers>"][e],delete this["<names>"][e]},A.prototype.get=function(e){return E("Headers","get",1,arguments.length),e=x(e),this.has(e)?this["<headers>"][e]:null},A.prototype.has=function(e){return E("Headers","has",1,arguments.length),this["<headers>"].hasOwnProperty(x(e))},A.prototype.set=function(e,t){E("Headers","set",2,arguments.length);var r=x(e);this["<names>"][r]=e,this["<headers>"][r]=R(t)},A.prototype.forEach=function(e,t){E("Headers","forEach",1,arguments.length);var r,o=this["<headers>"];for(r in o)o.hasOwnProperty(r)&&e.call(t,o[r],r,this)},A.prototype.keys=function(){var r=[];return this.forEach(function(e,t){r.push(t)}),P(r)},A.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),P(t)},A.prototype.entries=function(){var r=[];return this.forEach(function(e,t){r.push([t,e])}),P(r)},i&&(A.prototype[Symbol.iterator]=A.prototype.entries),o&&(c=["[object Int8Array]","[object Uint8Array]","[object Int16Array]","[object Int32Array]","[object Uint16Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]","[object Uint8ClampedArray]"],d=function(e){return e&&DataView.prototype.isPrototypeOf(e)},f=ArrayBuffer.isView||function(e){return e&&-1<c.indexOf(s.call(e))}),q.prototype["<body>"]=function(e){this.body=e;var t=!this.headers.has("Content-Type");"string"===g(e)?(this["<text>"]=e,t&&this.headers.set("Content-Type","text/plain;charset=UTF-8")):p&&Blob.prototype.isPrototypeOf(e)?(this["<blob>"]=e,t&&this["<blob>"].type&&this.headers.set("Content-Type",this["<blob>"].type)):r&&FormData.prototype.isPrototypeOf(e)?this["<formData>"]=e:n&&URLSearchParams.prototype.isPrototypeOf(e)?(this["<text>"]=e.toString(),t&&this.headers.set("Content-Type","application/x-www-form-urlencoded;charset=UTF-8")):o&&p&&d(e)?(this["<arrayBuffer>"]=S(e.buffer),this.body=new Blob([this["<arrayBuffer>"]])):o&&(ArrayBuffer.prototype.isPrototypeOf(e)||f(e))?this["<arrayBuffer>"]=S(e):(this["<text>"]=s.call(e),t&&this.headers.set("Content-Type","text/plain;charset=UTF-8"))},p&&(q.prototype.blob=function(){if(U(this),this["<blob>"])return Promise.resolve(this["<blob>"]);if(this["<arrayBuffer>"])return Promise.resolve(new Blob([this["<arrayBuffer>"]]));if(this["<formData>"])throw new Error("Could not read FormData body as blob");return Promise.resolve(new Blob([this["<text>"]]))},q.prototype.arrayBuffer=function(){return this["<arrayBuffer>"]?(U(this),Promise.resolve(this["<arrayBuffer>"])):this.blob().then(B)}),q.prototype.text=function(){if(U(this),this["<blob>"])return e=this["<blob>"],r=O(t=new FileReader),t.readAsText(e),r;if(this["<arrayBuffer>"])return Promise.resolve(function(e){for(var t=new Uint8Array(e),r=new Array(t.length),o=0;o<t.length;o++)r[o]=String.fromCharCode(t[o]);return r.join("")}(this["<arrayBuffer>"]));if(this["<formData>"])throw new Error("Could not read FormData body as text");return Promise.resolve(this["<text>"]);var e,t,r},r&&(q.prototype.formData=function(){return this.text().then(j)}),q.prototype.json=function(){return this.text().then(JSON.parse)},b=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],T(q,C),C.prototype.clone=function(){return new C(this,{body:this.body})},m=[301,302,303,307,308],T(q,F),F.prototype.url="",F.prototype.type="default",F.prototype.redirected=!1,F.prototype.clone=function(){return new F(this.body,{status:this.status,statusText:this.statusText,headers:new A(this.headers),url:this.url})},F.error=function(){var e=new F(null,{status:0,statusText:""});return e.type="error",e},F.redirect=function(e,t){if(E("Response","redirect",1,arguments),-1===m.indexOf(t))throw new RangeError("Invalid redirect status code");return new F(null,{status:t,headers:{location:e}})},window.fetch=function(i,f){return E("Window","fetch",1,arguments.length),new Promise(function(s,t){var a,u=function(e){if(y.href=e,!y.host)return!1;e=y.protocol;if(e&&e!==location.protocol)return!0;e=y.port;return!(!e||e===w)||y.hostname!==location.hostname}((a=!f&&f instanceof C?i:new C(i,f)).url);if(u)switch(a.mode){case"same-origin":return t(new TypeError('Request mode is "same-origin" but the URL\'s origin is not same as the request origin'));case"no-cors":var e=new F;return e.ok=!1,e.status=0,e.statusText="",e.type="opaque",s(e)}var r,h=new(u&&l?XDomainRequest:XMLHttpRequest),o="onload"in h;function c(e){o?e.onload=null:e.onreadystatechange=null,e.onerror=null,e.ontimeout=null,e.onabort=null}function d(e){t(new TypeError("Request "+a.url+" "+e))}function n(){c(h);var r,e,t=(e=h,r=new A,e.getAllResponseHeaders&&(e.getAllResponseHeaders()||"").replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(e){var t=e.split(":"),e=t.shift().trim();e&&(t=t.join(":").trim(),r.append(e,t))}),r),o="response"in h?h.response:h.responseText,n={headers:t,status:h.status||200,statusText:h.statusText};try{var i=new F(o,n)}catch(e){return d(e)}i.type=u?"cors":"basic",i.url=(e=t,("responseURL"in(t=h)?t.responseURL:e.get("X-Request-URL"))||a.url.replace(/#.*/,"")),s(i)}o?h.onload=n:h.onreadystatechange=function(){4===h.readyState&&n()},h.onerror=function(){c(h),d("failed")},h.ontimeout=function(){c(h),d("timeout")},h.onabort=function(){c(h),d("aborted")};try{h.open(a.method,a.url,!0),h.timeout=Math.max(a.timeout>>0,0),h.responseType=p?"blob":"text","include"===a.credentials?h.withCredentials=!0:"omit"===a.credentials&&(h.withCredentials=!1),h.setRequestHeader&&(r=a.headers).forEach(function(e,t){h.setRequestHeader(this["<names>"][t],e)},r),h.send(void 0===a.body?null:a.body)}catch(e){c(h),t(e)}})},window.Headers=A,window.Request=C,window.Response=F)}();